import "./navbar.css";
import { Link , useNavigate} from "react-router-dom";

const Navbar = () => {

  const navigate = useNavigate();
  
  // ✅ React Router navigation hook
  const handleLogout = async () => {
    try {
      const response = await fetch("https://focus-fuze.onrender.com/auth/logout", {
        method: "POST",
        // credentials: "include", // ✅ Required for session-based authentication
        headers: { "Content-Type": "application/json" },
      });

      if (!response.ok) throw new Error("Logout failed");
      console.log("Logged out successfully");
      navigate("/login");
    } catch (error) {
      console.error("Error logging out:", error);
    }
  };

  return (
    <nav className="navbar">
      {/* ✅ Logo on the Left Corner */}
      <div className="logo">
        <Link to="/home">
          <img className="logo" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20xlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20xmlns%3Asvgjs%3D%22http%3A%2F%2Fsvgjs.com%2Fsvgjs%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20preserveAspectRatio%3D%22xMidYMid%20meet%22%20viewBox%3D%220%200%20300.00286865234375%2078.97920989990234%22%20overflow%3D%22visible%22%3E%3Cdefs%20id%3D%22SvgjsDefs84812%22%3E%3C%2Fdefs%3E%3Cg%20id%3D%22SvgjsG84813%22%20transform%3D%22scale(0.6144111769305644)%22%20opacity%3D%221%22%3E%3Cg%20id%3D%22SvgjsG84814%22%20class%3D%22kzZq-PIOX%22%20transform%3D%22translate(0%2C%200)%20scale(1.285445392524636)%22%20light-content%3D%22false%22%20non-strokable%3D%22false%22%20fill%3D%22%23ffffff%22%3E%3Cpath%20d%3D%22M24%200h76v76c0%2013.255-10.745%2024-24%2024H0V24C0%2010.745%2010.745%200%2024%200z%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3Cg%20id%3D%22SvgjsG84815%22%20class%3D%22tBer1V-vLi%22%20transform%3D%22translate(22.973789194389763%2C%2022.97493735268417)%20scale(0.8259954184152549)%22%20light-content%3D%22true%22%20non-strokable%3D%22false%22%20fill%3D%22%23000000%22%3E%3Cpath%20d%3D%22M66.465%2092.734l2.11%202.773c-.977.508-1.973.957-2.97%201.368-4.394%201.796-9.257%202.714-14.374%202.714-4.356%200-8.77-.664-13.105-1.992l1.25-3.203.703-1.797v-.02c.039.02.058.02.097.04l.176.058c.567.176%201.113.332%201.66.489.215.058.43.117.645.156.39.117.82.215%201.21.293.177.039.372.078.567.117.39.098.781.176%201.192.234.234.059.449.098.683.118.293.058.586.097.86.136.39.059.8.117%201.191.157.078.02.156.02.234.02.508.058%201.016.097%201.524.155.547.04%201.113.078%201.66.098%201.133.04%202.246.04%203.34%200%20.566-.02%201.113-.059%201.66-.098a23.325%2023.325%200%200%200%201.64-.175c.43-.04.86-.118%201.29-.176.058%200%20.097-.02.156-.02h.039c.039-.02.098-.02.137-.02.039%200%20.078-.019.117-.019.43-.078.84-.156%201.27-.234.156-.02.292-.059.43-.098.39-.098.76-.176%201.151-.293.02%200%20.04-.02.059-.02.039-.019.098-.019.156-.038.098-.02.215-.04.293-.079.293-.078.586-.156.899-.253h.02c.35-.098.663-.215.995-.313.02-.02.04-.02.078-.02l.625-.214a.694.694%200%200%200%20.176-.078h.02zm9.414-5.684l1.426%201.836c3.789-4.043%206.523-9.062%207.91-14.59l-.078.235a31.837%2031.837%200%200%201-9.258%2012.52zm-2.285-33.77c1.445%207.54-.195%2014.63-4.61%2019.941-4.296%205.196-10.722%208.067-18.104%208.067-15.117%200-29.746-12.285-32.617-27.383-1.446-7.54.195-14.63%204.59-19.941%204.316-5.215%2010.741-8.067%2018.104-8.067%207.852%200%2015.586%203.32%2021.602%208.633l3.614-3.613c-8.477-7.383-19.297-11.973-30.312-11.973-8.34%200-15.762%202.617-21.445%207.578-.02%200-.02%200-.02.02a27.236%2027.236%200%200%200-3.047%204.453c-.176.312-.351.644-.527.976a26.28%2026.28%200%200%200-1.055%202.383%2018.93%2018.93%200%200%200-.742%202.09l-.234.82a24.863%2024.863%200%200%200-.684%202.95c-.762%204.12-.703%208.535.156%2013.085%202.48%2013.008%2011.31%2024.961%2023.613%2031.992a48.044%2048.044%200%200%200%207.735%203.555c9.14%203.203%2018.75%203.203%2026.582.02a28.732%2028.732%200%200%200%206.25-3.477%2022.727%2022.727%200%200%200%201.523-1.191c.254-.215.508-.43.742-.645.488-.43.938-.86%201.387-1.328.547-.586%201.094-1.172%201.582-1.797.02-.02.039-.04.059-.078.292-.371.585-.742.859-1.133.39-.527.762-1.055%201.094-1.621.175-.273.351-.547.507-.84.176-.293.333-.566.489-.86.156-.292.312-.585.449-.859a15.67%2015.67%200%200%200%20.762-1.66c.02-.02.02-.039.02-.058v-.02c1.19-4.844%201.308-10.02.273-15.39-1.778-9.337-6.72-17.91-13.496-24.61l-3.653%203.613c4.297%204.57%207.403%2010.234%208.555%2016.367zm-17.461-7.46c1.836%202.128%203.144%204.706%203.672%207.46.176.899.254%201.778.254%202.657%200%202.793-.899%205.39-2.598%207.46-2.187%202.657-5.469%204.122-9.2%204.122-7.5%200-14.765-6.094-16.19-13.574-.723-3.79.097-7.383%202.344-10.098%202.187-2.657%205.468-4.122%209.199-4.122%203.633%200%207.187%201.426%2010.059%203.731l6.484-6.484-.449-.391c-5.293-4.453-11.973-7.207-18.73-7.207-6.328%200-11.816%202.422-15.469%206.816-3.73%204.512-5.117%2010.605-3.867%2017.11C24.22%2066.853%2037.345%2077.89%2050.9%2077.89c6.328%200%2011.816-2.423%2015.449-6.817%203.75-4.531%205.117-10.605%203.867-17.129-1.035-5.469-3.79-10.508-7.598-14.59zm-4.883.019c-2.226-1.68-4.902-2.715-7.656-2.715-2.695%200-5.02%201.016-6.543%202.871-1.582%201.914-2.148%204.493-1.621%207.266%201.133%205.957%206.875%2010.8%2012.832%2010.8%202.695%200%205-1.015%206.543-2.87%201.582-1.914%202.168-4.492%201.64-7.285-.39-2.09-1.367-4.043-2.714-5.684l-6.582%206.582a1.624%201.624%200%200%201-1.211.508%201.721%201.721%200%200%201-1.21-2.93zm21.855%2043.242c-.45.293-.898.566-1.348.84-.43.254-.859.488-1.308.723-.293.156-.606.312-.918.468l.86%201.133%203.886%205.059c1.719%202.246%204.727%203.125%206.68%202.011l-7.286-9.492zm-44.219-1.582c-.39-.234-.762-.488-1.152-.723-.703-.468-1.426-.937-2.11-1.425a54.771%2054.771%200%200%201-7.695-6.66%2019.099%2019.099%200%200%201-.86-.919%2050.62%2050.62%200%200%201-1.894-2.187c-.254-.313-.527-.645-.781-.977a54.258%2054.258%200%200%201-4.14-6.191c-.215-.352-.391-.703-.587-1.055-.43-.781-.84-1.601-1.21-2.422-.176-.39-.372-.761-.528-1.152-.176-.39-.351-.8-.508-1.191s-.312-.782-.468-1.192c-.86-2.441-1.582-4.96-2.07-7.5a94.92%2094.92%200%200%200-.176-.976c-.04-.274-.098-.547-.118-.82-.078-.391-.117-.782-.156-1.173-.078-.546-.117-1.113-.176-1.66-.02-.156-.02-.293-.039-.43-.644-9.335%201.992-17.948%207.637-24.628l.176-.176C2.83%2032.147-.996%2044.472%201.543%2057.87%204.238%2071.972%2013.69%2084.94%2026.895%2092.675l1.25-3.242zm7.93%203.926c-.488-.176-.977-.39-1.485-.606-.351-.156-.703-.312-1.035-.468-.8-.371-1.582-.762-2.383-1.172l-1.308%203.36-2.461%206.386.41.215c1.328.703%202.793.84%203.965.39.625-.234%201.445-.742%201.855-1.836l1.055-2.734.02-.04zm62.266-80.82c-.254-.625-.86-1.035-1.563-1.055l-7.87-.117v-7.52c0-.683-.43-1.308-1.055-1.582-.625-.273-1.368-.117-1.856.372L76.465%2010.918a1.77%201.77%200%200%200-.508%201.269l.293%208.672-10.078%2010.078c.86.742%201.7%201.523%202.52%202.324l9.96-9.96%209.317-.177c.469-.02.898-.214%201.23-.546L98.75%2012.44a1.678%201.678%200%200%200%20.332-1.836z%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3Crect%20id%3D%22SvgjsRect84816%22%20width%3D%222.0408559933137673%22%20height%3D%22128.5445392524636%22%20fill%3D%22%23ffffff%22%20transform%3D%22translate(134.09609516219945%2C%200)%20scale(1)%22%20light-content%3D%22false%22%3E%3C%2Frect%3E%3Cg%20id%3D%22SvgjsG84817%22%20class%3D%22text%22%20transform%3D%22translate(322.5369511555132%2C%2089.89776161481416)%20scale(1)%22%20light-content%3D%22false%22%20fill%3D%22%23ffffff%22%3E%3Cpath%20d%3D%22M-162.4%200L-159.41%200L-159.41%20-24.65L-133.75%20-24.65L-133.75%20-27.41L-159.41%20-27.41L-159.41%20-48.42L-132.29%20-48.42L-132.29%20-51.26L-162.4%20-51.26Z%20M-118.99%20-1.75C-116.61%20-0.24%20-113.87%200.51%20-110.77%200.51C-107.67%200.51%20-104.93%20-0.24%20-102.56%20-1.75C-100.18%20-3.25%20-98.34%20-5.38%20-97.03%20-8.14C-95.72%20-10.91%20-95.07%20-14.13%20-95.07%20-17.81C-95.07%20-21.45%20-95.72%20-24.65%20-97.03%20-27.41C-98.34%20-30.17%20-100.18%20-32.31%20-102.56%20-33.81C-104.93%20-35.31%20-107.67%20-36.06%20-110.77%20-36.06C-113.87%20-36.06%20-116.61%20-35.31%20-118.99%20-33.81C-121.36%20-32.31%20-123.21%20-30.17%20-124.51%20-27.41C-125.82%20-24.65%20-126.48%20-21.45%20-126.48%20-17.81C-126.48%20-14.13%20-125.82%20-10.91%20-124.51%20-8.14C-123.21%20-5.38%20-121.36%20-3.25%20-118.99%20-1.75ZM-101.57%20-6.43C-103.73%20-3.79%20-106.82%20-2.47%20-110.84%20-2.47C-114.77%20-2.47%20-117.81%20-3.79%20-119.97%20-6.43C-122.13%20-9.08%20-123.21%20-12.87%20-123.21%20-17.81C-123.21%20-22.61%20-122.1%20-26.36%20-119.9%20-29.05C-117.69%20-31.74%20-114.65%20-33.08%20-110.77%20-33.08C-106.89%20-33.08%20-103.85%20-31.74%20-101.65%20-29.05C-99.44%20-26.36%20-98.34%20-22.61%20-98.34%20-17.81C-98.34%20-12.87%20-99.42%20-9.08%20-101.57%20-6.43Z%20M-79.87%20-1.75C-77.45%20-0.24%20-74.61%200.51%20-71.36%200.51C-69.09%200.51%20-66.86%200.08%20-64.67%20-0.76C-62.49%20-1.61%20-60.7%20-2.79%20-59.29%20-4.29L-60.75%20-6.83C-62.59%20-5.28%20-64.35%20-4.17%20-66.02%20-3.49C-67.69%20-2.81%20-69.45%20-2.47%20-71.29%20-2.47C-75.31%20-2.47%20-78.48%20-3.81%20-80.78%20-6.47C-83.08%20-9.14%20-84.23%20-12.85%20-84.23%20-17.6C-84.23%20-22.44%20-83.07%20-26.25%20-80.74%20-29.01C-78.42%20-31.77%20-75.24%20-33.16%20-71.22%20-33.16C-69.38%20-33.16%20-67.63%20-32.8%20-65.98%20-32.1C-64.34%20-31.4%20-62.59%20-30.27%20-60.75%20-28.72L-59.29%20-31.34C-60.65%20-32.79%20-62.4%20-33.94%20-64.53%20-34.79C-66.66%20-35.64%20-68.92%20-36.06%20-71.29%20-36.06C-74.54%20-36.06%20-77.39%20-35.3%20-79.83%20-33.77C-82.28%20-32.25%20-84.17%20-30.09%20-85.51%20-27.3C-86.84%20-24.52%20-87.51%20-21.3%20-87.51%20-17.67C-87.51%20-14.08%20-86.84%20-10.91%20-85.51%20-8.14C-84.17%20-5.38%20-82.29%20-3.25%20-79.87%20-1.75Z%20M-23.67%20-35.19L-26.72%20-35.19L-26.72%20-15.12C-26.72%20-11.29%20-27.82%20-8.23%20-30.03%20-5.93C-32.23%20-3.62%20-35.15%20-2.47%20-38.79%20-2.47C-41.94%20-2.47%20-44.27%20-3.34%20-45.77%20-5.09C-47.27%20-6.83%20-48.02%20-9.55%20-48.02%20-13.23L-48.02%20-35.19L-51.08%20-35.19L-51.08%20-12.94C-51.08%20-8.53%20-50.02%20-5.19%20-47.92%20-2.91C-45.81%20-0.63%20-42.72%200.51%20-38.64%200.51C-35.98%200.51%20-33.59%20-0.11%20-31.48%20-1.35C-29.37%20-2.58%20-27.76%20-4.34%20-26.65%20-6.62L-26.65%200L-23.67%200Z%20M-13.49%20-4.29C-10.14%20-1.09%20-5.76%200.51%20-0.33%200.51C3.7%200.51%206.9%20-0.38%209.27%20-2.14C11.65%20-3.91%2012.83%20-6.25%2012.83%20-9.16C12.83%20-13.86%209.71%20-16.94%203.45%20-18.4L-2.58%20-19.85C-4.71%20-20.38%20-6.28%20-21.17%20-7.27%20-22.21C-8.26%20-23.25%20-8.76%20-24.67%20-8.76%20-26.47C-8.76%20-28.5%20-7.95%20-30.1%20-6.33%20-31.26C-4.7%20-32.43%20-2.46%20-33.01%200.4%20-33.01C2.44%20-33.01%204.3%20-32.66%206%20-31.96C7.7%20-31.25%209.32%20-30.17%2010.87%20-28.72L12.32%20-31.34C11.02%20-32.84%209.32%20-34%207.23%20-34.83C5.15%20-35.65%202.87%20-36.06%200.4%20-36.06C-3.48%20-36.06%20-6.56%20-35.14%20-8.83%20-33.3C-11.11%20-31.46%20-12.25%20-29.04%20-12.25%20-26.03C-12.25%20-23.85%20-11.44%20-21.92%20-9.82%20-20.25C-8.19%20-18.58%20-6%20-17.43%20-3.24%20-16.8L2.73%20-15.41C5.1%20-14.83%206.82%20-14.03%207.89%20-13.01C8.96%20-12%209.49%20-10.64%209.49%20-8.94C9.49%20-6.91%208.66%20-5.33%207.02%20-4.22C5.37%20-3.1%202.99%20-2.54%20-0.11%20-2.54C-2.63%20-2.54%20-4.77%20-2.86%20-6.54%20-3.49C-8.31%20-4.12%20-10.14%20-5.24%20-12.03%20-6.83Z%20M24.1%200L27.08%200L27.08%20-24.65L52.75%20-24.65L52.75%20-27.41L27.08%20-27.41L27.08%20-48.42L54.2%20-48.42L54.2%20-51.26L24.1%20-51.26Z%20M89.69%20-35.19L86.63%20-35.19L86.63%20-15.12C86.63%20-11.29%2085.53%20-8.23%2083.32%20-5.93C81.12%20-3.62%2078.2%20-2.47%2074.56%20-2.47C71.41%20-2.47%2069.09%20-3.34%2067.58%20-5.09C66.08%20-6.83%2065.33%20-9.55%2065.33%20-13.23L65.33%20-35.19L62.28%20-35.19L62.28%20-12.94C62.28%20-8.53%2063.33%20-5.19%2065.44%20-2.91C67.55%20-0.63%2070.64%200.51%2074.71%200.51C77.37%200.51%2079.76%20-0.11%2081.87%20-1.35C83.98%20-2.58%2085.59%20-4.34%2086.71%20-6.62L86.71%200L89.69%200Z%20M103.65%20-2.69L127.71%20-32.72L127.71%20-35.19L100.52%20-35.19L100.52%20-32.57L123.86%20-32.57L99.43%20-2.11L99.43%200L128.59%200L128.59%20-2.69Z%20M165.74%20-17.3L165.74%20-19.2C165.74%20-24.53%20164.48%20-28.67%20161.96%20-31.63C159.44%20-34.59%20155.9%20-36.06%20151.34%20-36.06C148.14%20-36.06%20145.31%20-35.3%20142.84%20-33.77C140.36%20-32.25%20138.45%20-30.1%20137.09%20-27.34C135.74%20-24.58%20135.06%20-21.38%20135.06%20-17.74C135.06%20-12.07%20136.57%20-7.61%20139.6%20-4.36C142.63%20-1.11%20146.76%200.51%20152%200.51C154.52%200.51%20156.97%200.06%20159.34%20-0.84C161.72%20-1.73%20163.66%20-2.93%20165.16%20-4.44L163.7%20-7.05C161.81%20-5.45%20159.91%20-4.29%20158%20-3.56C156.08%20-2.84%20154.03%20-2.47%20151.85%20-2.47C147.59%20-2.47%20144.3%20-3.76%20142%20-6.33C139.7%20-8.89%20138.5%20-12.55%20138.4%20-17.3ZM142.44%20-29.77C144.69%20-32.08%20147.66%20-33.23%20151.34%20-33.23C154.93%20-33.23%20157.72%20-32.1%20159.71%20-29.85C161.69%20-27.59%20162.73%20-24.36%20162.83%20-20.14L138.47%20-20.14C138.86%20-24.26%20140.18%20-27.47%20142.44%20-29.77Z%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" alt="Logo" height="40px" />
        </Link>
      </div>

      <div className="item">

        <Link to="/personal-goals" className="link">PersonalGoals</Link>
        <Link to="/calendar-page" className="link">Calendar</Link>
        <Link to="/notes" className="link">Notes</Link>
        <Link to="/save-video" className="link">Cart</Link>
        <Link to="/contact" className="link">Contact</Link>
      </div>

      {/* ✅ Logout Button in the Right Corner */}
      <button className="logout-btn" onClick={handleLogout}>Logout</button>
    </nav>
  );
};

export default Navbar;
